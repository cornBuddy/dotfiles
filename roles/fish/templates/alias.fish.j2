#!/usr/bin/fish

{{ ansible_managed | comment }}

alias k "kubectl"

alias ga "git add"
alias gst "git status"
alias gd "git diff"
alias gp "git pull && git push"
alias gb "git branch"
alias gfa "git fetch --all"

alias gco "git checkout"
alias gcb "git checkout -b"

alias glog "git log --oneline --decorate --graph"
alias glg "git log --stat"

alias gc "git commit"
alias gc! "git commit --verbose --amend"
alias gcmsg "git commit --message"

alias gpsup "git push --set-upstream origin $(git rev-parse --abbrev-ref HEAD)"
alias gpf! "git push --force"

function posix-source
    for i in (cat $argv)
        set arr (echo $i |tr = \n)
        set -gx $arr[1] $arr[2]
    end
end

function sudo
    if test "$argv" = !!
        eval command sudo $history[1]
    else
        command sudo $argv
    end
end
