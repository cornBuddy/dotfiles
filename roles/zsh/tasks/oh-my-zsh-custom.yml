---
- name: Create custom dir
  ansible.builtin.file:
    state: directory
    path: "{{ zsh_oh_my_zsh_custom }}"

- name: Download external themes
  ansible.builtin.get_url:
    url: "{{ item }}"
    dest: "{{ zsh_oh_my_zsh_custom }}"
  loop: "{{ zsh_oh_my_zsh_external_themes }}"

- name: Create plugins dir
  ansible.builtin.file:
    state: directory
    path: "{{ zsh_oh_my_zsh_custom }}/plugins"

- name: Download plugins
  ansible.builtin.git:
    repo: "{{ item.repo }}"
    dest: "{{ item.path }}"
    force: true
  loop: "{{ zsh_oh_my_zsh_external_plugins }}"
